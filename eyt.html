<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
    <script src="counting.js"></script>

    <style type="text/css">
        body {
            background-color: #ccc;
            font-family: Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
        }
        
        .inp1 {
            position: relative;
            margin: auto;
            width: 100%;
            max-width: 280px;
        }
        
        .inp2 {
            position: relative;
            margin: auto;
            width: 100%;
            max-width: 280px;
        }
        
        .inp3 {
            position: relative;
            margin: auto;
            width: 100%;
            max-width: 280px;
        }
        
        .inp1 .label {
            position: absolute;
            top: 16px;
            left: 0;
            font-size: 16px;
            color: #9098a9;
            font-weight: 500;
            transform-origin: 0 0;
            transition: all 0.2s ease;
        }
        
        .inp2 .label {
            position: absolute;
            top: 16px;
            left: 0;
            font-size: 16px;
            color: #9098a9;
            font-weight: 500;
            transform-origin: 0 0;
            transition: all 0.2s ease;
        }
        
        .inp3 .label {
            position: absolute;
            top: 16px;
            left: 0;
            font-size: 16px;
            color: #9098a9;
            font-weight: 500;
            transform-origin: 0 0;
            transition: all 0.2s ease;
        }
        
        .inp1 .border {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 2px;
            width: 100%;
            background: #07f;
            transform: scaleX(0);
            transform-origin: 0 0;
            transition: all 0.15s ease;
        }
        
        .inp2 .border {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 2px;
            width: 100%;
            background: #07f;
            transform: scaleX(0);
            transform-origin: 0 0;
            transition: all 0.15s ease;
        }
        
        .inp3 .border {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 2px;
            width: 100%;
            background: #07f;
            transform: scaleX(0);
            transform-origin: 0 0;
            transition: all 0.15s ease;
        }
        
        .inp1 input {
            -webkit-appearance: none;
            width: 100%;
            border: 0;
            font-family: inherit;
            padding: 12px 0;
            height: 48px;
            font-size: 16px;
            font-weight: 500;
            border-bottom: 2px solid #c8ccd4;
            background: none;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            color: #223254;
            transition: all 0.15s ease;
        }
        
        .inp2 input {
            -webkit-appearance: none;
            width: 100%;
            border: 0;
            font-family: inherit;
            padding: 12px 0;
            height: 48px;
            font-size: 16px;
            font-weight: 500;
            border-bottom: 2px solid #c8ccd4;
            background: none;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            color: #223254;
            transition: all 0.15s ease;
        }
        
        .inp3 input {
            -webkit-appearance: none;
            width: 100%;
            border: 0;
            font-family: inherit;
            padding: 12px 0;
            height: 48px;
            font-size: 16px;
            font-weight: 500;
            border-bottom: 2px solid #c8ccd4;
            background: none;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            color: #223254;
            transition: all 0.15s ease;
        }
        
        .inp1 input:hover {
            background: rgba(34, 50, 84, 0.03);
        }
        
        .inp2 input:hover {
            background: rgba(34, 50, 84, 0.03);
        }
        
        .inp3 input:hover {
            background: rgba(34, 50, 84, 0.03);
        }
        
        .inp1 input:not(:placeholder-shown)+span {
            color: #5a667f;
            transform: translateY(-26px) scale(0.75);
        }
        
        .inp2 input:not(:placeholder-shown)+span {
            color: #5a667f;
            transform: translateY(-26px) scale(0.75);
        }
        
        .inp3 input:not(:placeholder-shown)+span {
            color: #5a667f;
            transform: translateY(-26px) scale(0.75);
        }
        
        .inp1 input:focus {
            background: none;
            outline: none;
        }
        
        .inp2 input:focus {
            background: none;
            outline: none;
        }
        
        .inp3 input:focus {
            background: none;
            outline: none;
        }
        
        .inp1 input:focus+span {
            color: #07f;
            transform: translateY(-26px) scale(0.75);
        }
        
        .inp2 input:focus+span {
            color: #07f;
            transform: translateY(-26px) scale(0.75);
        }
        
        .inp3 input:focus+span {
            color: #07f;
            transform: translateY(-26px) scale(0.75);
        }
        
        .inp1 input:focus+span+.border {
            transform: scaleX(1);
        }
        
        .inp2 input:focus+span+.border {
            transform: scaleX(1);
        }
        
        .inp3 input:focus+span+.border {
            transform: scaleX(1);
        }
        
        .section {
            margin: auto;
            background-color: #eee;
            min-height: 500px;
        }
        
        .baslat,
        .devam_et,
        .durdur,
        .butlink1,
        .butlink2 {
            display: inline-block;
            background-color: #f22;
            color: white;
            height: 48px;
            position: absolute;
            margin-left: 5px;
            padding: 12px 10px 12px 10px;
            border: rgba(34, 50, 84, 0.03) solid 0.5px;
            border-radius: 4px;
            position: relative;
            width: 150px;
            text-align: center;
        }
        
        .baslat {
            display: inline-block;
            background-color: #f22;
            color: white;
            height: 48px;
            position: absolute;
            margin-left: 5px;
            padding: 12px 10px 12px 10px;
            border: rgba(34, 50, 84, 0.03) solid 0.5px;
            border-radius: 4px;
            position: relative;
            width: 129px;
            text-align: center;
        }
        
        .butlink1:hover {
            background-color: #f44;
            text-decoration: none;
            color: white;
        }
        
        .butlink1:active {
            background-color: #f00;
            margin-top: 0.5px;
        }
        
        .baslat:hover,
        .devam_et:hover,
        .durdur:hover,
        .butlink1:hover,
        .butlink2:hover {
            background-color: #f44;
            text-decoration: none;
            color: white;
        }
        
        .baslat:active,
        .devam_et:active,
        .durdur:active,
        .butlink1:active,
        .butlink2:active {
            background-color: #f00;
            margin-top: 0.5px;
        }
        
        ul {
            padding: 20px;
            margin: 0;
        }
        
        li {
            padding-bottom: 10px;
            list-style: none;
        }
        
        .visual {
            padding: 20px;
            display: block;
        }
        
        #siraP {
            margin-left: 20px;
        }
    </style>
    <style>
        #node {
            width: 50px;
            height: 50px;
            background-color: rgba(40, 200, 40, 0.8);
            border: rgba(34, 50, 84, 0.03) solid 0.5px;
            border-radius: 100%;
            float: left;
            margin: 5px;
        }
        
        #nodeSelected {
            width: 60px;
            height: 60px;
            background-color: rgba(42, 171, 231, 0.8);
            /*border: rgba(34, 50, 84, 0.03) solid 0.5px;*/
            /*border-radius: 80%;*/
            float: left;
            margin: 5px;
        }
        
        #nodeRed {
            width: 50px;
            height: 50px;
            background-color: red;
            border: rgba(34, 50, 84, 0.03) solid 0.5px;
            border-radius: 50%;
            float: left;
            margin: 5px;
        }
        
        #nodeMatch {
            width: 50px;
            height: 50px;
            background-color: yellow;
            border: rgba(34, 50, 84, 0.03) solid 0.5px;
            border-radius: 50%;
            float: left;
            margin: 5px;
        }
        
        #nodeBlue {
            width: 50px;
            height: 50px;
            background-color: blue;
            border: rgba(34, 50, 84, 0.03) solid 0.5px;
            border-radius: 50%;
            float: left;
            margin: 5px;
        }
        
        #nodeP {
            vertical-align: middle;
            text-align: center;
            color: white;
            line-height: 50px;
        }
        
        .bolum {
            background-color: #f1f1f1;
            margin: 10px;
            padding: 5px;
            font-size: 30px;
            height: 50px;
            width: 770px;
        }
        
        .active {
            background-color: green;
            color: white;
        }
        
        #yalanci_kod {
            position: absolute;
            display: block;
            right: 0;
            top: 0;
        }
        
        #input-div {
            display: block;
            width: 800px;
            height: 220px;
        }
        
        .head-div {
            display: block;
            margin-left: 20px;
            float: left;
        }
    </style>
    <script>
        inputString = "";
        inputArray = "";
        maxVal = "";
        countValArr = "";
        inputArrayNodes = new Array(0);
        siraDiziNode = new Array(0);
        siraDiziCountNode = new Array(0);
        var yalanci_kod;
        var slDwn = 800;
        var stTmOut;
        var startTime;
        var currenttime;
        var clock = slDwn + 1000;
        var fonkName = "";
        var params = new Array(0);
        var funcs;

        $(function() {
            activeStep("bolum1");
            $('#buton1').click(function() {
                $(".baslat").show();
                inputString = "";
                $("#sira").empty();
                $("#siraDiv").empty();
                $("#degerDiv").empty();
                $("#siraliDiv").empty();
                $(".baslat").show();
                $(".durdur").hide();
                $(".devam_et").hide();
                if (isNaN(parseInt($('#inp1')[0].value))) {
                    sayiSiniri = 9;
                } else {
                    sayiSiniri = parseInt($('#inp1')[0].value);
                }
                if (isNaN(parseInt($('#inp2')[0].value))) {
                    diziUzunlugu = 10;
                } else {
                    diziUzunlugu = parseInt($('#inp2')[0].value);
                }
                for (let i = 0; i < diziUzunlugu - 1; i++) {
                    inputString += Math.round(Math.random() * sayiSiniri) + ",";
                }
                inputString += Math.round(Math.random() * sayiSiniri);
                inputArray = diziOlustur(inputString);
                maxVal = Math.max(...inputArray);

                for (var i = 0; i < inputArray.length; i++) {
                    inputArrayNodes.push(node("sira", inputArray[i], i))
                }

                $("#sira").slideDown(slDwn);


                countValArr = new Array(maxVal);
                for (var i = 0; i <= maxVal; i++) {
                    if (inputArray.indexOf(i) == -1) {
                        countValArr[i] = 0;
                    } else {
                        var c = degerSay(inputArray, i);
                        countValArr[i] = c;
                    }
                }

            });





            $("#diziYap").click(function() {
                $(".baslat").show();
                inputString = "";
                $("#sira").empty();
                $("#siraDiv").empty();
                $("#degerDiv").empty();
                $("#siraliDiv").empty();
                $(".baslat").show();
                $(".durdur").hide();
                $(".devam_et").hide();
                if ($('.diziDeger')[0].value == "") {
                    inputString = "1, 3, 3, 7";
                } else {
                    inputString = $(".diziDeger")[0].value;
                }
                inputArray = diziOlustur(inputString);
                maxVal = Math.max(...inputArray);

                for (var i = 0; i < inputArray.length; i++) {
                    inputArrayNodes.push(node("sira", inputArray[i], i))
                }

                $("#sira").slideDown(slDwn);


                countValArr = new Array(maxVal);
                for (var i = 0; i <= maxVal; i++) {
                    if (inputArray.indexOf(i) == -1) {
                        countValArr[i] = 0;
                    } else {
                        var c = degerSay(inputArray, i);
                        countValArr[i] = c;
                    }
                }
            });

            $('a.baslat').click(function() {
                deactiveStep("bolum1");
                activeStep("bolum2");
                $(".baslat").hide();
                $(".durdur").show();
                $(".devam_et").hide();
                for (var i = 0; i <= maxVal; i++) {
                    node("siraDiv", i, i);
                }
                for (var i = 0; i <= maxVal; i++) {
                    node("degerDiv", 0, i);
                }
                stTmOut = setTimeout(slideDownSiraDiv, 0);
            });

            $('a.durdur').click(function() {
                $(".durdur").hide();
                $(".devam_et").show();
                currenttime = new Date().getTime();
                clearTimeout(stTmOut);
            });
            $('a.devam_et').click(function() {
                $(".durdur").show();
                $(".devam_et").hide();
                stTmOut = setTimeout(funcs[fonkName], clock - (currenttime - startTime), params[0], params[1], params[2]);
            });

        });

        function diziOlustur(toArr) {
            toArr = toArr.split(",");
            toArr = toArr.map(function(x) {
                return parseInt(x);
            });
            return toArr;
        }

        function node(appendNode, value, className) {
            var node = document.createElement("div");
            node.className = "node" + className;
            node.id = 'node';
            var nodeP = document.createElement("p");
            nodeP.style.verticalAlign = "middle";
            nodeP.id = 'nodeP';
            nodeP.innerHTML = value;
            node.appendChild(nodeP);
            $('#' + appendNode).append(node);
            return node;
        }

        function degerSay(arr, val) {
            var count = 0;
            for (var i = 0; i < arr.length; i++) {
                if (arr[i] == val)
                    count++;
            }
            return count;
        }
    </script>
</head>

<body>
    <div class="section">
        <div class="head-div">
            <div id="input-div">
                <ul>
                    <li><label for="inp1" class="inp1">
                    <input type="text" id="inp1" placeholder="&nbsp;">
                    <span class="label">Maksimum Sayı Sınırı</span>
                    <span class="border"></span>
                </label>
                        <label for="inp2" class="inp2">
                    <input type="text" id="inp2" placeholder="&nbsp;">
                    <span class="label">Dizi Uzunluğu</span>
                    <span class="border"></span>
                </label>
                        <a href="#" id="buton1" class="butlink1">Rastgele Oluştur</a></li>
                    <li><label for="inp3" class="inp3" style="max-width: 565px;">
                    <input class="diziDeger" type="text" id="inp3" placeholder="&nbsp;">
                    <span class="label">Sıralanacak Dizi</span>
                    <span class="border"></span>
                </label>
                        <a href="#" class="butlink1" id="diziYap">Dizi Oluştur</a></li>
                    <li>
                        <a href="#" class="baslat" style="display:none;">Başlat</a><a href="#" class="devam_et" style="display:none;">Devam Et</a>
                        <a href="#" class="durdur" style="display:none;">Durdur</a>
                    </li>
                </ul>
            </div>
            <div id="yalanci_kod">
                <h3>Pseudo Code</h3>
                <div class="bolum" id="bolum1">
                    Begin CountingSort(list)<br/>
                </div>
                <div class="bolum" id="bolum2">
                    hashList.length = list.maxValue<br/>
                </div>
                <div class="bolum" id="bolum3">
                    for all elements of hashList, loop list<br/>
                </div>
                <div class="bolum" id="bolum4">
                    if (hash[i]==list[j]) => hashList[i]++<br/>
                </div>
                <div class="bolum" id="bolum5">
                    for all elements of hashList<br/>
                </div>
                <div class="bolum" id="bolum6">
                    while (hashList[i]>0) => i--, sortedList.append(hashList[i])<br/>
                </div>
                <div class="bolum" id="bolum7">
                    End counting sort<br/>
                </div>
            </div>
        </div>
        <div class="visual">
            <div id="sira" style="height: 100px;"></div>
            <div id="deger" style="height: 150px;">
                <h3 id="siraP" style="display: none"></h3>
                <div id="siraDiv" style="clear:left; display: none">

                </div>
                <div id="degerDiv" style="clear:left; display: none;">

                </div>
            </div>
            <div id="siraliDiv" style="clear: left; height: 100px;">

            </div>
        </div>
    </div>
</body>

</html>